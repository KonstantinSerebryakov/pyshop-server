import{k as a}from"./index.f78c14a7.js";import{EVENT_AUTH as e}from"./event-bus.d678601b.js";import"./mitt.550594b0.js";var R=a(({app:p,store:i,router:t})=>{const o=p.config.globalProperties.$eventBus;o.on(e.LOGIN_SUCCESS,s=>{var r,c;const u=(c=(r=t.currentRoute.value.query.from)==null?void 0:r.toString())!=null?c:"/";["/signin","/signup"].includes(u)?t.push("/"):t.push(u)}),o.on(e.LOGOUT_SUCCESS,()=>{const n=`/signin?from=${t.currentRoute.value.path}`;t.push(n)}),o.on(e.REFRESH_TOKEN_UNVALIDATED,()=>{const n=`/signin?from=${t.currentRoute.value.path}`;t.push(n)})});export{R as default};
