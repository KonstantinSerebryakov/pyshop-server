import{Q as $,p as U}from"./throttle.96984d2d.js";import{r as d,ay as V,d as C,w as T,c as L,o as B,D as W,z as b,E as S,C as y,a0 as g,B as X,H as N,I as P,aA as Z}from"./index.5c38e1b7.js";const x=5,M=255,A=8,I=128,Q=new RegExp(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&._-])[A-Za-z\d@$!%*#?&._-]{8,128}$/);function O(){const p=d("ERROR"),u=d(""),s=d(!1);function i(a){p.value="ERROR",a&&(u.value=a),c()}function m(a){p.value="ERROR",a&&(u.value=a),c()}function c(){s.value=!0}function n(){s.value=!1}return{type:p,message:u,isShowMessage:V(s),showError:i,showInfo:m,show:c,hide:n}}const j={class:""},J=C({__name:"EmailInput",setup(p,{expose:u}){const s=O();function i(t){s.message.value=t}const m=s.isShowMessage,c=s.message,n=d(!1),a=d({to:"/",label:"/"}),r=d("");function h(){let t="Input should be valid email";const l=r.value;l.length===0?t="Email should not be empty":l.length<x?t=`Email should be at least ${x} characters`:l.length>M&&(t=`Email should not be longer then ${M} symbols`),i(t)}function v(){i("This email is busy. try another or ")}function w(){i("Email or password are invalid. New user? ")}function f(){a.value.to="/signin",a.value.label="Sign In"}function e(){a.value.to="/signup",a.value.label="Sign Up"}function o(){n.value=!0}function E(){n.value=!1}T(r,(t,l)=>{E(),t.length>0&&!R.value?(h(),s.show()):s.hide()});function _(){s.show()}function k(){v(),_(),f(),o()}function D(){w(),_(),e(),o()}function G(){const t=R.value;return t||_(),t}const R=L(()=>{const t=r.value.toLowerCase().trim(),{testPattern:l}=U;return l.email(t)});return B(()=>{h()}),u({validate:G,value:V(r),showEmailBusyError:k,showEmailInvalidError:D}),(t,l)=>{const H=W("router-link");return b(),S($,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=z=>r.value=z),label:"Email",type:"email",outlined:"","bottom-slots":"",error:g(m),maxlength:g(M)},{error:y(()=>[X("span",j,[N(P(g(c))+" ",1),n.value?(b(),S(H,{key:0,to:a.value.to,class:"text-purple"},{default:y(()=>[N(P(a.value.label),1)]),_:1},8,["to"])):Z("",!0)])]),_:1},8,["modelValue","error","maxlength"])}}}),K=C({__name:"PasswordInput",setup(p,{expose:u}){const s=O();function i(e){s.message.value=e}const m=s.isShowMessage,c=s.message,n=d("");function a(){let e="";const o=n.value;o.length===0?e="Password should not be empty":o.length<A?e=`Password should be at least ${A} characters`:o.match(/[A-Za-z]/)?o.match(/[0-9]/)?o.match(/[@$!%*#?&]/)?o.length>I&&(e=`Password should not be longer then ${I} symbols`):e="Password should include at least 1 special symbol: @$!%*#?&":e="Password should include at least 1 digit":e="Password should include at least 1 letter",i(e)}function r(){i("Email or password are invalid.")}T(n,(e,o)=>{e.length>0&&!f.value?(a(),s.show()):s.hide()});function h(){s.show()}function v(){r(),h()}function w(){const e=f.value;return e||h(),e}const f=L(()=>{const e=n.value.toLowerCase().trim();return Q.test(e)});return B(()=>{a()}),u({validate:w,value:V(n),showInvalidPasswordError:v}),(e,o)=>(b(),S($,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=E=>n.value=E),label:"Password",type:"password",outlined:"","bottom-slots":"",error:g(m),maxlength:g(I)},{error:y(()=>[N(P(g(c)),1)]),_:1},8,["modelValue","error","maxlength"]))}});export{J as _,K as a};
