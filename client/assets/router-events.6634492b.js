import{k as i}from"./index.85d9c606.js";import{EVENT_AUTH as e}from"./event-bus.883d0566.js";import"./mitt.550594b0.js";var h=i(({app:a,store:p,router:o})=>{const n=a.config.globalProperties.$eventBus;n.on(e.LOGIN_SUCCESS,s=>{var r,c;const u=(c=(r=o.currentRoute.value.query.from)==null?void 0:r.toString())!=null?c:"/";["/signin","/signup"].includes(u)?o.push("/"):o.push(u)}),n.on(e.LOGOUT_SUCCESS,()=>{console.log("EVEENT_logout");const t=`/signin?from=${o.currentRoute.value.path}`;o.push(t)}),n.on(e.REFRESH_TOKEN_UNVALIDATED,()=>{console.log("EVEENT_refreshUnvalid");const t=`/signin?from=${o.currentRoute.value.path}`;o.push(t)})});export{h as default};
