var $=Object.defineProperty;var x=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _=(e,t,n)=>(x(e,typeof t!="symbol"?t+"":t,n),n);import{u as H,l as R,m as U,r as C,n as q,w as V,s as K,p as k,q as B}from"./index.cc854539.js";function G(e){return R()?(U(e),!0):!1}function E(e){return typeof e=="function"?e():H(e)}const O=typeof window!="undefined"&&typeof document!="undefined",I=Object.prototype.toString,Q=e=>I.call(e)==="[object Object]",X=()=>{};function Y(e,t){function n(...i){return new Promise((o,u)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(o).catch(u)})}return n}const W=e=>e();function Z(e=W){const t=C(!0);function n(){t.value=!1}function i(){t.value=!0}const o=(...u)=>{t.value&&e(...u)};return{isActive:q(t),pause:n,resume:i,eventFilter:o}}function ee(e,t,n={}){const{eventFilter:i=W,...o}=n;return V(e,Y(i,t),o)}function te(e,t,n={}){const{eventFilter:i,...o}=n,{eventFilter:u,pause:m,resume:g,isActive:S}=Z(i);return{stop:ee(e,t,{...o,eventFilter:u}),pause:m,resume:g,isActive:S}}function ne(e){var t;const n=E(e);return(t=n==null?void 0:n.$el)!=null?t:n}const A=O?window:void 0;O&&window.document;O&&window.navigator;O&&window.location;function J(...e){let t,n,i,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,o]=e,t=A):[t,n,i,o]=e,!t)return X;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const u=[],m=()=>{u.forEach(l=>l()),u.length=0},g=(l,a,y,f)=>(l.addEventListener(a,y,f),()=>l.removeEventListener(a,y,f)),S=V(()=>[ne(t),E(o)],([l,a])=>{if(m(),!l)return;const y=Q(a)?{...a}:a;u.push(...n.flatMap(f=>i.map(c=>g(l,f,c,y))))},{immediate:!0,flush:"post"}),d=()=>{S(),m()};return G(d),d}const v=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},b="__vueuse_ssr_handlers__",re=ie();function ie(){return b in v||(v[b]=v[b]||{}),v[b]}function oe(e,t){return re[e]||t}function se(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ae={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},D="vueuse-storage";function ue(e,t,n,i={}){var o;const{flush:u="pre",deep:m=!0,listenToStorageChanges:g=!0,writeDefaults:S=!0,mergeDefaults:d=!1,shallow:l,window:a=A,eventFilter:y,onError:f=r=>{console.error(r)}}=i,c=(l?K:C)(t);if(!n)try{n=oe("getDefaultStorage",()=>{var r;return(r=A)==null?void 0:r.localStorage})()}catch(r){f(r)}if(!n)return c;const p=E(t),F=se(p),h=(o=i.serializer)!=null?o:ae[F],{pause:T,resume:j}=te(c,()=>L(c.value),{flush:u,deep:m,eventFilter:y});return a&&g&&(J(a,"storage",N),J(a,D,P)),N(),c;function L(r){try{if(r==null)n.removeItem(e);else{const s=h.write(r),w=n.getItem(e);w!==s&&(n.setItem(e,s),a&&a.dispatchEvent(new CustomEvent(D,{detail:{key:e,oldValue:w,newValue:s,storageArea:n}})))}}catch(s){f(s)}}function M(r){const s=r?r.newValue:n.getItem(e);if(s==null)return S&&p!==null&&n.setItem(e,h.write(p)),p;if(!r&&d){const w=h.read(s);return typeof d=="function"?d(w,p):F==="object"&&!Array.isArray(w)?{...p,...w}:w}else return typeof s!="string"?s:h.read(s)}function P(r){N(r.detail)}function N(r){if(!(r&&r.storageArea!==n)){if(r&&r.key==null){c.value=p;return}if(!(r&&r.key!==e)){T();try{(r==null?void 0:r.newValue)!==h.write(c.value)&&(c.value=M(r))}catch(s){f(s)}finally{r?k(j):j()}}}}}function z(e,t,n={}){const{window:i=A}=n;return ue(e,t,i==null?void 0:i.localStorage,n)}class le{constructor(t){_(this,"id");_(this,"email");this.id=t.id,this.email=t.email}}const de=B("counter",{state:()=>({data:z("user",null,{serializer:{read:e=>{const t=e?JSON.parse(e):null;return t?new le(t):null},write:e=>JSON.stringify(e)}}),token:z("access_token_jwt",null,{})}),getters:{},actions:{clear(){this.$state.data=null,this.$state.token=null}}});export{de as u};
